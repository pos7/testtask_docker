
Исходное задание здесь https://github.com/pos7/testtask

Здесь тоже самое, но переложенное на **Docker**

Для запуска нам потребуется Docker, Docker-compose

Что делает эта "контейнерная сборка", состоит она из четырех контейнеров,
подымает MongoDB (NoSQL СУБД), подымает менеджер очередей RabbitMQ, подымает приемник чеков, подымает Apache сервер с PHP.
Контейнеры:
1. monogodb
2. RabbitMQ
3. Consumer
4. PHP_Apache

после старта сборки, подымается приемник чеков Consumer его задача ждать очередь чеков из RabbitMQ, по приходу чеков загружать их в БД monogodb. Так мы моделируем приемку чеков из кассовой программы торговой точки, магазинов. После запуска 4го контейнера PHP_Apache, стартует генератор чеков который создает чеки по нескольким кассам и торговым точкам за 2019 год. Генерация тестовых чеков и заполнения ими БД занимает порядка двух, трех минут, после, сборка работает как веб сервер (по порту 8080), где выводит отчет, данные в виде Шахматки, условия задачи, требования по Шахматке здесь: https://github.com/pos7/testtask
Все другие порты, кроме 8080, не имеют доступа "наружу", если потребуются порты для подключения к админке RabbitMQ и БД monogodb, то нужно раскоментировать соответствующие строки в ```docker-compose.yml```

Файлы: 
* ```start.sh``` - старт "пакета" под линуксом, либо с командной строки ```docker-compose up --build```
* ```del.sh``` - удаление всех контейнеров и образов "чистка", либо 
```
docker rm -v $(docker ps -aq -f status=exited) 
docker rmi -f $(docker images -q)
```
* ```tapache.sh``` - подключение в "терминал" (bash) веб папки, где лежат наши php, html файлы (папка html), 
либо ```docker exec -it PHP_Apache bash```,
в терминале контейнера можно запустить дополнительную закачку чеков, файл ```GenChecks.sh```, 
будет создано и прогружено чеков на несколько лет, загрузка займет порядка 10-15 минут


пример шахматки здесь: http://51.91.38.192  
пример шахматки из Docker-а: http://51.91.38.192:8080/
(на время жизни VPS)


пример, скрин работы контейнера:

![скрин](http://dl3.joxi.net/drive/2019/11/18/0039/0588/2597452/52/274c33b0a6.jpg)

![скрин](http://dl4.joxi.net/drive/2019/11/18/0039/0588/2597452/52/b469b1fa9f.jpg)
